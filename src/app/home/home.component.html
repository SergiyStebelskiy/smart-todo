<main class="home-page">
  <button mat-raised-button color="primary" (click)="openCreateTaskPopup()">
    Create task
  </button>
  <ul class="tasks-list" *ngIf="!loading && tasks.length > 0">
    <li class="task" *ngFor="let task of tasks">
      <h2 class="name">{{ task.name }}</h2>
      <div class="description" [innerHTML]="task.description"></div>
      <span
        [ngClass]="{
          priority: true,
          low: task.priority === 'low',
          normal: task.priority === 'normal',
          hight: task.priority === 'hight'
        }"
        >{{ task.priority }}</span
      >
      <button
        mat-icon-button
        [matMenuTriggerFor]="menu"
        aria-label="Example icon-button with a menu"
        class="menu-btn"
      >
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="openEditTaskPopup(task)">Edit</button>
        <button mat-menu-item (click)="openDeleteTaskPopup(task)">
          Delete
        </button>
      </mat-menu>
      <mat-checkbox
        class="checked"
        *ngIf="task.checked"
        [disabled]="true"
        [checked]="true"
      ></mat-checkbox>
    </li>
  </ul>
  <span class="message" *ngIf="loading">Loading...</span>
  <span class="message" *ngIf="!loading && !tasks.length">Tasks not found</span>
</main>
